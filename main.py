import streamlit as st

# ---------------------- ê¸°ë³¸ ì„¤ì • ----------------------
st.set_page_config(page_title="Baskin Kiosk ğŸ¨", page_icon="ğŸ¦")
st.title("ğŸ¦ ë² ìŠ¤í‚¨ë¼ë¹ˆìŠ¤ í‚¤ì˜¤ìŠ¤í¬")
st.write("ì–´ì„œì˜¤ì„¸ìš”! ì£¼ë¬¸ì„ ë„ì™€ë“œë¦´ê²Œìš” ğŸ˜Š")

# ---------------------- Step 1: ë§¤ì¥/í¬ì¥ ----------------------
st.header("1ï¸âƒ£ ë§¤ì¥ì—ì„œ ë“œì‹œë‚˜ìš”, í¬ì¥í•´ ê°€ì‹œë‚˜ìš”?")
eat_type = st.radio("ì„ íƒí•´ì£¼ì„¸ìš”:", ["ë§¤ì¥", "í¬ì¥"])

# ---------------------- Step 2: ìš©ê¸° ì„ íƒ ----------------------
st.header("2ï¸âƒ£ ì–´ë–¤ ìš©ê¸°ë¥¼ ì›í•˜ì‹œë‚˜ìš”?")
container = st.selectbox(
    "ìš©ê¸°ë¥¼ ì„ íƒí•˜ì„¸ìš”:",
    [
        "ì‹±ê¸€ì»µ (1ê°€ì§€ ë§›) - 3,500ì›",
        "ë”ë¸”ì»µ (2ê°€ì§€ ë§›) - 6,000ì›",
        "íŒŒì¸íŠ¸ (3ê°€ì§€ ë§›) - 8,200ì›",
        "ì¿¼í„° (4ê°€ì§€ ë§›) - 15,000ì›",
    ]
)

# ìš©ê¸°ë³„ ë§› ê°œìˆ˜ì™€ ê°€ê²© ë§¤í•‘
container_info = {
    "ì‹±ê¸€ì»µ (1ê°€ì§€ ë§›) - 3,500ì›": (1, 3500),
    "ë”ë¸”ì»µ (2ê°€ì§€ ë§›) - 6,000ì›": (2, 6000),
    "íŒŒì¸íŠ¸ (3ê°€ì§€ ë§›) - 8,200ì›": (3, 8200),
    "ì¿¼í„° (4ê°€ì§€ ë§›) - 15,000ì›": (4, 15000),
}
num_flavors, base_price = container_info[container]

# ---------------------- Step 3: ë§› ì„ íƒ ----------------------
st.header(f"3ï¸âƒ£ ì•„ì´ìŠ¤í¬ë¦¼ ë§›ì„ {num_flavors}ê°€ì§€ ê³¨ë¼ì£¼ì„¸ìš” ğŸ¨")

flavor_list = [
    "ë² ë¦¬ë² ë¦¬ ìŠ¤íŠ¸ë¡œë² ë¦¬", "ë¯¼íŠ¸ì´ˆì½”ì¹©", "ì•„ëª¬ë“œë´‰ë´‰", "ë°”ëŒê³¼ í•¨ê»˜ ì‚¬ë¼ì§€ë‹¤",
    "ë‰´ìš•ì¹˜ì¦ˆì¼€ì´í¬", "ìŠˆíŒ…ìŠ¤íƒ€", "ì´ˆì½œë¦¿", "ë°”ë‹ë¼", "ë ˆì¸ë³´ìš°ìƒ¤ë² íŠ¸",
]

selected_flavors = []
for i in range(num_flavors):
    flavor = st.selectbox(f"ë§› {i+1}", flavor_list, key=f"flavor_{i}")
    selected_flavors.append(flavor)

# ---------------------- Step 4: ê²°ì œ ----------------------
st.header("4ï¸âƒ£ ê²°ì œ ë°©ë²•ì„ ì„ íƒí•´ì£¼ì„¸ìš” ğŸ’³")
payment = st.radio("ê²°ì œ ë°©ì‹:", ["í˜„ê¸ˆ", "ì¹´ë“œ", "ê¸°í”„í‹°ì½˜"])

if payment == "ê¸°í”„í‹°ì½˜":
    gift_num = st.text_input("ê¸°í”„í‹°ì½˜ ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (í•˜ì´í”ˆ ì—†ì´)")
    if gift_num:
        st.write(f"ğŸŸ ì…ë ¥ëœ ë²ˆí˜¸: {gift_num}")

# ---------------------- Step 5: ì „ì²´ ìš”ì•½ ----------------------
st.header("âœ¨ ì£¼ë¬¸ ìš”ì•½")
st.write(f"ğŸ“ **ì´ìš© ë°©ì‹:** {eat_type}")
st.write(f"ğŸ¥„ **ìš©ê¸°:** {container}")
st.write(f"ğŸ¨ **ì„ íƒí•œ ë§›:** {', '.join(selected_flavors)}")
st.write(f"ğŸ’° **ì´ ê°€ê²©:** {base_price}ì›")
st.write(f"ğŸ’³ **ê²°ì œ ë°©ì‹:** {payment}")

st.success("ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ë§›ìˆê²Œ ë“œì„¸ìš” ğŸ˜ŠğŸ¦âœ¨")
